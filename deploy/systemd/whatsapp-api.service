[Unit]
Description=WhatsApp Chat Analyzer API
After=network.target ollama.service
Wants=ollama.service

[Service]
Type=simple
User=root
WorkingDirectory=/opt/whatsapp-analyzer
Environment=OLLAMA_HOST=http://localhost:11434
Environment=OLLAMA_MODEL=llama3.1:8b
Environment=ALLOWED_ORIGINS=*
ExecStart=/opt/whatsapp-analyzer/.venv/bin/uvicorn backend.main:app --host 127.0.0.1 --port 8000
Restart=always
RestartSec=5

[Install]
WantedBy=multi-user.target
